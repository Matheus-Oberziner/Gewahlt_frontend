<template>
  <div
    class="col-12 row"
    style="padding: 1.5% 6.5%;"
  >
    <div class="col-12 row q-gutter-md">
      <q-card flat style="border-radius: 15px;" class="bg-grey">
        <q-card-section class="q-py-sm">
          <div class="row items-center text-primary">
            <svg width="20" height="20" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_198_2563)">
                <path d="M6.37163 14.6816H4.52539C5.05031 15.7124 5.97471 16.4933 7.10058 16.8297C6.82562 16.2873 6.54982 15.5671 6.37163 14.6816Z" fill="currentColor"/><path d="M7.24219 14.6816C7.48325 15.7656 7.88124 16.5437 8.18678 17.0137C8.22904 17.015 8.26836 17.0262 8.31083 17.0262C8.3533 17.0262 8.39262 17.015 8.43467 17.0137C8.74127 16.5427 9.13883 15.7648 9.37942 14.6816H7.24219Z" fill="currentColor"/><path d="M12.4224 11.6982H10.3821C10.4177 12.0359 10.4422 12.387 10.4422 12.764C10.4422 13.1411 10.4168 13.4918 10.3809 13.8297H12.4224C12.5115 13.487 12.5737 13.1341 12.5737 12.764C12.5737 12.3938 12.5115 12.0409 12.4224 11.6982Z" fill="currentColor"/><path d="M9.52051 8.69727C9.80175 9.24824 10.0771 9.96227 10.2534 10.8457H12.097C11.5718 9.81461 10.647 9.03344 9.52051 8.69727Z" fill="currentColor"/><path d="M8.43614 8.51366C8.39346 8.51243 8.35371 8.50098 8.31087 8.50098C8.2684 8.50098 8.22886 8.51222 8.18682 8.51345C7.86833 9.00112 7.47785 9.77722 7.24121 10.8455H9.38073C9.14505 9.78084 8.75607 9.00447 8.43614 8.51366Z" fill="currentColor"/><path d="M9.52311 11.6982H7.09926C7.06031 12.0336 7.03223 12.3832 7.03223 12.764C7.03223 13.1445 7.06073 13.4941 7.10011 13.8297H9.52232C9.56143 13.4941 9.58999 13.1445 9.58999 12.764C9.58993 12.3832 9.5618 12.0337 9.52311 11.6982Z" fill="currentColor"/><path d="M4.52539 10.8457H6.3696C6.54609 9.96189 6.82168 9.24701 7.10186 8.69727C5.97529 9.03366 5.05052 9.81461 4.52539 10.8457Z" fill="currentColor"/><path d="M6.17928 12.764C6.17928 12.387 6.20405 12.0359 6.23965 11.6982H4.19918C4.11009 12.0409 4.04785 12.3938 4.04785 12.764C4.04785 13.1341 4.11009 13.487 4.19918 13.8297H6.24093C6.20469 13.4918 6.17928 13.1411 6.17928 12.764Z" fill="currentColor"/><path d="M10.2502 14.6816C10.0725 15.5671 9.79686 16.2868 9.52148 16.8297C10.6471 16.4931 11.5713 15.7123 12.0962 14.6816H10.2502Z" fill="currentColor"/><path d="M23.2456 3.20644L13.3634 0.55852C12.4538 0.314792 11.5188 0.854628 11.275 1.76421L10.3838 5.09062H14.2791C14.8055 5.09062 15.2703 5.33419 15.5829 5.70905C15.9072 5.79591 16.514 5.95848 17.0705 6.10757L19.8772 3.49072L20.663 3.7013L18.9041 6.59892C19.4203 6.73725 19.9471 6.87835 20.2924 6.97096L21.3588 6.34422L21.8827 6.48457L21.0557 7.73689L21.1456 9.23496L20.6217 9.09461L20.0116 8.01877C19.6662 7.92616 19.1395 7.78506 18.6233 7.64673L18.6978 11.0357L17.912 10.8251L16.7897 7.15549C16.5156 7.08206 16.2421 7.00874 15.9842 6.93968V17.1937L16.8624 13.8531L17.6858 14.0738L15.9842 20.5475V22.1421C15.9842 23.0838 15.2207 23.8473 14.2791 23.8473H11.338L17.2878 25.4415C18.1974 25.6852 19.1324 25.1455 19.3762 24.2358L22.136 13.9364L21.3103 13.7213L21.5317 12.8979L22.3566 13.1128L24.4515 5.29486C24.6951 4.38523 24.1552 3.45022 23.2456 3.20644ZM17.1923 12.6177L16.3689 12.397L16.5903 11.5736L17.4138 11.7943L17.1923 12.6177ZM18.2363 12.0153L19.0606 12.236L18.8408 13.0594L18.0165 12.8387L18.2363 12.0153ZM17.7291 23.7944L16.9057 23.5738L19.3328 14.5151L20.1563 14.7357L17.7291 23.7944ZM20.4868 13.5006L19.6634 13.28L19.8848 12.4566L20.7082 12.6772L20.4868 13.5006Z" fill="currentColor"/><path d="M14.2788 5.94336H1.49023V22.9947H14.2788C14.749 22.9947 15.1313 22.6123 15.1313 22.1422V6.79593C15.1313 6.32584 14.749 5.94336 14.2788 5.94336ZM12.5736 21.2896H4.04794V20.437H12.5736V21.2896ZM8.31079 17.8793C5.48564 17.8793 3.19537 15.5891 3.19537 12.7639C3.19537 9.93877 5.48564 7.6485 8.31079 7.6485C11.1359 7.6485 13.4262 9.93877 13.4262 12.7639C13.4262 15.5891 11.136 17.8793 8.31079 17.8793Z" fill="currentColor"/>
              </g>
              <defs>
                <clipPath id="clip0_198_2563">
                  <rect width="25" height="25" fill="white" transform="translate(0.5 0.5)"/>
                </clipPath>
              </defs>
            </svg>

            <span class="q-px-sm text-16 weight-400">Visto Contratado:</span>
            <span class="text-16 weight-700">XXXXX</span>
          </div>
        </q-card-section>
      </q-card>

      <q-card flat style="border-radius: 15px;" class="bg-grey">
        <q-card-section class="q-py-sm">
          <div class="row items-center text-primary">
            <span class="text-16 weight-400">Saldo a Pagar:</span>

            <q-btn
              round
              flat
              dense
              size="10px"
              class="q-mx-sm"
              @click="eyeBtn = !eyeBtn"
            >
              <template #default>
                <svg v-if="!eyeBtn" width="20" height="20" viewBox="0 0 40 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M39.8352 13.263C39.7677 13.1281 38.1482 9.92616 34.9328 6.71083C26.1163 -2.10599 13.8959 -2.11789 5.06713 6.71083C1.8518 9.92616 0.232239 13.1281 0.164795 13.263C-0.0549316 13.7027 -0.0549316 14.2206 0.164795 14.6603C0.232239 14.7952 1.8518 17.9971 5.06713 21.2125C13.884 30.0293 26.1041 30.0412 34.9328 21.2125C38.1482 17.9971 39.7677 14.7952 39.8352 14.6603C40.0549 14.2206 40.0549 13.7027 39.8352 13.263ZM32.7231 19.0027C25.2673 26.4584 15.0647 26.7306 7.34405 19.0695C5.30822 17.0496 3.9682 15.0003 3.35144 13.96C3.95752 12.9352 5.26702 10.9305 7.27691 8.92061C14.7159 1.48165 24.92 1.17739 32.6562 8.85378C34.6923 10.874 36.0324 12.9239 36.6485 13.963C36.0424 14.9878 34.7329 16.9928 32.7231 19.0027ZM20 6.25337C15.7495 6.25337 12.2916 9.71132 12.2916 13.9615C12.2916 18.212 15.7495 21.6699 20 21.6699C24.2505 21.6699 27.7084 18.212 27.7084 13.9615C27.7084 9.71132 24.2505 6.25337 20 6.25337ZM20 18.5449C17.4728 18.5449 15.4166 16.4887 15.4166 13.9615C15.4166 11.4343 17.4728 9.37837 20 9.37837C22.5271 9.37837 24.5834 11.4343 24.5834 13.9615C24.5834 16.489 22.5271 18.5449 20 18.5449Z" fill="currentColor"/>
                </svg>

                <svg v-else width="20" height="20" viewBox="0 0 34 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M33.2665 7.36672L30.8998 4.65006C31.5332 3.81672 31.8998 3.21672 31.9498 3.11672C32.4165 2.33339 32.1498 1.30006 31.3665 0.833391C30.5832 0.366724 29.5498 0.616723 29.0832 1.41672C29.0332 1.50006 24.2665 9.33339 16.9998 9.33339C9.73315 9.33339 5.31649 1.83339 5.01649 1.31672C4.78315 0.800057 4.29984 0.416724 3.68317 0.33339C2.74984 0.23339 1.94982 0.88339 1.83315 1.80006C1.74982 2.46672 2.43314 3.58339 3.18314 4.60006L0.766503 7.36672C0.166503 8.06672 0.233136 9.11672 0.933136 9.71672C1.2498 10.0001 1.63314 10.1334 2.03314 10.1334C2.4998 10.1334 2.96647 9.93339 3.28314 9.56672L5.38315 7.16672C6.24982 8.05006 7.24982 8.95006 8.39982 9.76672L6.33317 13.5501C5.89984 14.3501 6.18315 15.3667 6.99982 15.8167C7.24982 15.9501 7.53317 16.0167 7.79984 16.0167C8.38317 16.0167 8.96647 15.7001 9.26647 15.1501L11.2998 11.4334C12.5331 11.9834 13.8998 12.3667 15.3665 12.5501V15.9667C15.3665 16.8834 16.1165 17.6334 17.0332 17.6334C17.9498 17.6334 18.6998 16.8834 18.6998 15.9667V12.5667C20.1665 12.3834 21.5165 11.9667 22.7498 11.4167L24.7998 15.1667C25.0998 15.7167 25.6665 16.0334 26.2665 16.0334C26.5332 16.0334 26.8165 15.9667 27.0665 15.8334C27.8665 15.4001 28.1665 14.3834 27.7332 13.5667L25.6665 9.78339C26.8498 8.96672 27.8665 8.06672 28.7332 7.18339L30.7832 9.53339C31.1165 9.91672 31.5665 10.1001 32.0332 10.1001C32.4165 10.1001 32.8165 9.96672 33.1332 9.68339C33.8332 9.08339 33.8998 8.03339 33.2998 7.33339L33.2665 7.36672Z" fill="currentColor"/>
                </svg>

              </template>
            </q-btn>

            <span class="text-16 weight-400">{{ !eyeBtn ? 'R$ 5000,00' : '-----' }}</span>
          </div>
        </q-card-section>
      </q-card>
      <div >
        <q-btn label="Anterior" @click="level--" />
        <q-btn label="Próximo" @click="level++" />
      </div>
    </div>

    <div class="col-12 row" style="padding-top: 50px;">
      <LevelsStepper
        :steps="[
          { label: 'Documentos e Informações' },
          { label: 'Aprimorar Perfil' },
          { label: 'Construção do Draft' },
          { label: 'Aprovação do Draft' },
          { label: 'Final File' },
          { label: 'Acompanhar Processo' },
          {}
        ]"
        :active-step="level"
      />
    </div>

    <div class="col-12 row items-center" style="padding: 20px 70px;">
      <span class="text-16 text-primary q-pr-md">Progresso Deste Nível:</span>

      <div class="progress-container">
        <q-linear-progress
          :value="0.25"
          size="10px"
          rounded
          style="border-radius: 50px;"
          class="my-progress"
        />

        <div class="label-container" :style="{ left: '25%' }">
          <div class="label-arrow"></div>
          <div class="label-circle">
            25%
          </div>
        </div>
      </div>
    </div>

    <!-- Renderiza o componente do Level atual-->
    <component
      :is="getLevelComponent"
      :key="level"
    />
  </div>
</template>
<script>
import { mdiEyeOffOutline, mdiEyeOutline } from '@quasar/extras/mdi-v7'
import LevelsStepper from 'src/components/LevelsStepper.vue'
import { ref } from 'vue'
import Level1 from 'src/components/LevelSteps/StepLevel1.vue'
import Level2 from 'src/components/LevelSteps/StepLevel2.vue'
import Level3 from 'src/components/LevelSteps/StepLevel3.vue'
export default {
  components: {
    LevelsStepper,
    Level1,
    Level2,
    Level3
  },
  setup () {
    return {
      eyeBtn: ref(false),
      level: ref(0),

      mdiEyeOutline,
      mdiEyeOffOutline
    }
  },
  computed: {
    getLevelComponent() {
      switch (this.level) {
        case 0: return 'Level1'
        case 1: return 'Level2'
        case 2: return 'Level3'
        case 3: return 'Level4'
        case 4: return 'Level5'
        case 5: return 'Level6'
        case 6: return 'Level7'

        default: return null
      }
    }
  }
}  
</script>
<style scoped>
.progress-container {
  position: relative;
  width: 400px;
}

.my-progress :deep(.q-linear-progress__model) {
  background: linear-gradient(to right, #FF4D4D, #F4D35E);
}

.label-container {
  position: absolute;
  bottom: -50px;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
}

.label-arrow {
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-bottom: 8px solid #FFCD05;
}

.label-circle {
  background-color: #FFFFFF;
  color: #FFCD05;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 10px;
  border: 4px solid #FFCD05;
  box-sizing: border-box;
}
</style>
